(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{6916:function(e,t,a){"use strict";var n=a(5893),i=a(6265),r=a(1664),c=a(1163),s=a(3544),l=a(7187),o=a(4433);t.Z=function(e){var t,a,I,g=e.listId,d=(0,c.useRouter)().pathname,b=[{title:"Edit List",href:{pathname:l.Z.ADD_OR_EDIT_LIST.HREF,query:(0,i.Z)({},o.Z.ID,g)},disabled:!1},{title:"View List",href:{pathname:l.Z.LIST.HREF,query:(t={},(0,i.Z)(t,o.Z.ID,g),(0,i.Z)(t,o.Z.PAGE,1),t)},disabled:!1},{title:"Add/Remove Items",href:{pathname:l.Z.ADD_OR_REMOVE_ITEMS_AT_LIST.HREF,query:(a={},(0,i.Z)(a,o.Z.LIST_ID,g),(0,i.Z)(a,o.Z.PAGE,1),a)},disabled:!1},{title:"Choose Image",href:{pathname:l.Z.CHOOSE_LIST_IMAGE.HREF,query:(I={},(0,i.Z)(I,o.Z.LIST_ID,g),(0,i.Z)(I,o.Z.PAGE,1),I)},disabled:!1},{title:"Delete List",href:{pathname:l.Z.REMOVE_LIST.HREF,query:(0,i.Z)({},o.Z.ID,g)},disabled:!1}],u=[{title:"Step1: List Details",href:{pathname:l.Z.ADD_OR_EDIT_LIST.HREF},disabled:!1},{title:"Step2: Add Items",href:{pathname:l.Z.ADD_OR_REMOVE_ITEMS_AT_LIST.HREF},disabled:!0},{title:"Step3: Choose Image",href:{pathname:l.Z.CHOOSE_LIST_IMAGE.HREF},disabled:!0}],C=g?b:u;return(0,n.jsx)(s.Z,{children:C.map((function(e){return(0,n.jsx)(s.e,{disabled:e.disabled,selected:d===e.href.pathname,children:(0,n.jsx)(r.default,{href:e.href,children:(0,n.jsx)("a",{children:e.title})})},e.title)}))})}},6084:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var n=a(5893),i=a(6265),r=a(809),c=a.n(r),s=a(2447),l=a(7294),o=a(1163),I=a(9008),g=a(6261),d=a(8354),b=a(3927),u=a(974),C=a(3861),A=a(8347),h=a(5988),Z=a(1216),m=a(2386),p=a(7017),x=a(3718);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X="scenery-container",F="gray-filtered",R=function(e){var t=e.theme,a=e.movie,i=e.baseUrl,r=e.text,c=e.textAlwaysVisible,s=(0,A.Z)(e,["theme","movie","baseUrl","text","textAlwaysVisible"]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Z.ZP,{height:200,offset:200,children:[(0,n.jsxs)("button",f(f({},s),{},{className:h.default.dynamic([["1090437291",[X,X,c?"1":"0",c?"visible":"hidden",t.typography.fontWeightBold,t.transitions.duration.shorter,X,X,X,F,t.transitions.duration.shorter,t.transitions.easing.easeInOut]]])+" "+(s&&null!=s.className&&s.className||X),children:[(0,n.jsx)(m.Z,{overlayClass:F,width:x.Av.WIDTH,height:x.Av.HEIGHT,src:"".concat(i).concat(x.Av.FULL).concat(a.backdrop_path)}),(0,n.jsx)("h2",{className:h.default.dynamic([["1090437291",[X,X,c?"1":"0",c?"visible":"hidden",t.typography.fontWeightBold,t.transitions.duration.shorter,X,X,X,F,t.transitions.duration.shorter,t.transitions.easing.easeInOut]]]),children:r})]})),(0,n.jsx)(p.Z,{style:{marginTop:"1.5rem"},theme:t,children:a.title})]}),(0,n.jsx)(h.default,{id:"1090437291",dynamic:[X,X,c?"1":"0",c?"visible":"hidden",t.typography.fontWeightBold,t.transitions.duration.shorter,X,X,X,F,t.transitions.duration.shorter,t.transitions.easing.easeInOut],children:".".concat(X,".__jsx-style-dynamic-selector{position:relative;width:100%;border:none;}.").concat(X,".__jsx-style-dynamic-selector>h2.__jsx-style-dynamic-selector{opacity:").concat(c?"1":"0",";visibility:").concat(c?"visible":"hidden",";position:absolute;top:50%;-webkit-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);transform:translate(0%,-50%);width:100%;min-height:40px;color:var(--palette-text-primary);font-size:1.5rem;font-weight:").concat(t.typography.fontWeightBold,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--palette-custom-tmdbLightBlue);-webkit-transition:").concat(t.transitions.duration.shorter,"ms;transition:").concat(t.transitions.duration.shorter,"ms;}.").concat(X,".__jsx-style-dynamic-selector:hover>h2.__jsx-style-dynamic-selector{opacity:1;visibility:visible;}.").concat(X,".__jsx-style-dynamic-selector:disabled,.").concat(X,".__jsx-style-dynamic-selector{color:inherit;background-color:inherit;}.").concat(F,":hover{-webkit-filter:grayscale(100%);filter:grayscale(100%);-webkit-transition:filter ").concat(t.transitions.duration.shorter,"ms ").concat(t.transitions.easing.easeInOut,";transition:filter ").concat(t.transitions.duration.shorter,"ms ").concat(t.transitions.easing.easeInOut,";}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lc2RhbmllbHMvQ29kZS9uZXh0LW1vdmllcy9wYXJ0cy9DaG9vc2VJbWFnZUl0ZW0vaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb0RnQixBQUcyQixBQU1tQixBQWtCM0IsQUFLSSxBQUtTLFVBVEosSUFLTSxJQTdCZCxXQUNDLEFBd0JkLFFBbkIwQyxFQXdCMUMsRUE1QkEsYUFnQ2tGLHVCQTNCOUQsa0JBQ1YsUUFDc0IsbUdBQ25CLFdBQ0ssU0F3QmxCLE9BdkJvQyxrQ0FDakIsaUJBQ3dCLHlDQUM1QiwwRUFDVSxtR0FDSiw2RkFDa0MscURBQ1gsNEZBQzVDIiwiZmlsZSI6Ii9Vc2Vycy9qYW1lc2RhbmllbHMvQ29kZS9uZXh0LW1vdmllcy9wYXJ0cy9DaG9vc2VJbWFnZUl0ZW0vaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuaW1wb3J0IExhenlMb2FkIGZyb20gJ3JlYWN0LWxhenlsb2FkJztcblxuaW1wb3J0IFNjZW5lcnkgZnJvbSAnY29tcG9uZW50cy9TY2VuZXJ5JztcbmltcG9ydCBQb3N0ZXJUaXRsZSBmcm9tICdjb21wb25lbnRzL1Bvc3RlclRpdGxlJztcbmltcG9ydCB7XG4gIFczNTVfQU5EX0gyMDBfQkVTVFYyLFxuICAvLyBXNzEwX0FORF9INDAwX0JFU1RWMlxufSBmcm9tICdjb25maWcvaW1hZ2Utc2l6ZXMnO1xuXG4vKipcbiAqIFRPRE86XG4gKiBTaG91bGQgdXNlIHNyY3NldCBhcHByb2FjaCB0byBzZXJ2ZSByZXNwb25zaXZlIGltYWdlcy4gUmU6IGh0dHBzOi8vd2ViLmRldi9zZXJ2ZS1yZXNwb25zaXZlLWltYWdlcy9cbiAqL1xuXG5jb25zdCBTQ0VORVJZX0NPTlRBSU5FUl9DTEFTU19OQU1FID0gJ3NjZW5lcnktY29udGFpbmVyJztcbmNvbnN0IEdSQVlfRklMVEVSRURfQ0xBU1NfTkFNRSA9ICdncmF5LWZpbHRlcmVkJztcblxuY29uc3QgQ2hvb3NlSW1hZ2VJdGVtID0gKHtcbiAgdGhlbWUsXG4gIG1vdmllLFxuICBiYXNlVXJsLFxuICB0ZXh0LFxuICB0ZXh0QWx3YXlzVmlzaWJsZSxcbiAgLi4ucmVzdFxufSkgPT4gKFxuICA8PlxuICAgIDxMYXp5TG9hZFxuICAgICAgaGVpZ2h0PXsyMDB9XG4gICAgICBvZmZzZXQ9ezIwMH0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17U0NFTkVSWV9DT05UQUlORVJfQ0xBU1NfTkFNRX1cbiAgICAgICAgey4uLnJlc3R9PlxuICAgICAgICA8U2NlbmVyeVxuICAgICAgICAgIG92ZXJsYXlDbGFzcz17R1JBWV9GSUxURVJFRF9DTEFTU19OQU1FfVxuICAgICAgICAgIHdpZHRoPXtXMzU1X0FORF9IMjAwX0JFU1RWMi5XSURUSH1cbiAgICAgICAgICBoZWlnaHQ9e1czNTVfQU5EX0gyMDBfQkVTVFYyLkhFSUdIVH1cbiAgICAgICAgICAvLyBUT0RPOiBwbGFjZWhvbGRlciBpcyBicm9rZW4gd2l0aCBpdFxuICAgICAgICAgIC8vIHNyY1NldD17YCR7YmFzZVVybH0vJHtXMzU1X0FORF9IMjAwX0JFU1RWMi5GVUxMfSR7bW92aWUuYmFja2Ryb3BfcGF0aH0gMXgsICR7YmFzZVVybH0vJHtXNzEwX0FORF9INDAwX0JFU1RWMi5GVUxMfSR7bW92aWUuYmFja2Ryb3BfcGF0aH0gMnhgfSBcbiAgICAgICAgICBzcmM9e2Ake2Jhc2VVcmx9JHtXMzU1X0FORF9IMjAwX0JFU1RWMi5GVUxMfSR7bW92aWUuYmFja2Ryb3BfcGF0aH1gfSAvPlxuICAgICAgICA8aDI+e3RleHR9PC9oMj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPFBvc3RlclRpdGxlXG4gICAgICAgIC8vIFRPRE86IGhhY2sgZm9yIFVJIGFkanVzdGluZ1xuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIG1hcmdpblRvcDogJzEuNXJlbSdcbiAgICAgICAgfX1cbiAgICAgICAgdGhlbWU9e3RoZW1lfT5cbiAgICAgICAge21vdmllLnRpdGxlfVxuICAgICAgPC9Qb3N0ZXJUaXRsZT5cbiAgICA8L0xhenlMb2FkPlxuICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgIC4ke1NDRU5FUllfQ09OVEFJTkVSX0NMQVNTX05BTUV9IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgfVxuXG4gICAgICAuJHtTQ0VORVJZX0NPTlRBSU5FUl9DTEFTU19OQU1FfSA+IGgyIHtcbiAgICAgICAgb3BhY2l0eTogJHt0ZXh0QWx3YXlzVmlzaWJsZSA/ICcxJyA6ICcwJ307XG4gICAgICAgIHZpc2liaWxpdHk6ICR7dGV4dEFsd2F5c1Zpc2libGUgPyAndmlzaWJsZScgOiAnaGlkZGVuJ307XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAlLCAtNTAlKTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQwcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wYWxldHRlLXRleHQtcHJpbWFyeSk7XG4gICAgICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgICAgICBmb250LXdlaWdodDogJHt0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRCb2xkfTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhbGV0dGUtY3VzdG9tLXRtZGJMaWdodEJsdWUpO1xuICAgICAgICB0cmFuc2l0aW9uOiAke3RoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXJ9bXM7XG4gICAgICB9XG5cbiAgICAgIC4ke1NDRU5FUllfQ09OVEFJTkVSX0NMQVNTX05BTUV9OmhvdmVyID4gaDIge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgfVxuXG4gICAgICAuJHtTQ0VORVJZX0NPTlRBSU5FUl9DTEFTU19OQU1FfTpkaXNhYmxlZCwgLiR7U0NFTkVSWV9DT05UQUlORVJfQ0xBU1NfTkFNRX0ge1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbiAgICAgIH1cblxuICAgICAgOmdsb2JhbCguJHtHUkFZX0ZJTFRFUkVEX0NMQVNTX05BTUV9OmhvdmVyKSB7XG4gICAgICAgIGZpbHRlcjogZ3JheXNjYWxlKDEwMCUpO1xuICAgICAgICB0cmFuc2l0aW9uOiBmaWx0ZXIgJHt0aGVtZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVyfW1zICR7dGhlbWUudHJhbnNpdGlvbnMuZWFzaW5nLmVhc2VJbk91dH07XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8Lz5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IENob29zZUltYWdlSXRlbTtcbiJdfQ== */\n/*@ sourceURL=/Users/jamesdaniels/Code/next-movies/parts/ChooseImageItem/index.js */")})]})},G=a(6916),V=a(52),O=a(7650),E=a(6882),U=a(8929),v=a(6214),W=a(4433),T=a(1267),B=a(9168),J=a(3417);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D="SELECTED",S="SELECTING",N="SELECT",L=(0,v.Z)((0,U.Z)((function(e){var t=e.theme,a=e.accountId,i=e.accessToken,r=(0,o.useRouter)().query,A=(0,l.useState)(T.Z.IDLE),h=A[0],Z=A[1],m=(0,l.useState)(T.Z.IDLE),p=m[0],x=m[1],y=(0,l.useState)(null),f=y[0],X=y[1],F=(0,l.useState)(null),U=F[0],v=F[1],j=Number(r[W.Z.PAGE]),L=r[W.Z.LIST_ID];(0,l.useEffect)((function(){(0,s.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:if(L){e.next=4;break}return e.abrupt("return");case 4:if(i){e.next=6;break}return e.abrupt("return");case 6:if(a){e.next=8;break}return e.abrupt("return");case 8:return g.NY.scrollToTop({smooth:!0}),e.prev=9,Z(T.Z.PENDING),e.next=13,J.ZP.get("/".concat(B.Ol,"/list/").concat(L),{headers:{Authorization:"Bearer ".concat(i)},params:{page:j}});case 13:if(t=e.sent,(n=t.data).created_by.id!==a){e.next=19;break}v(n),e.next=20;break;case 19:throw new Error("You don't seem to have access to this page.");case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(9),console.log("[ChooseImage useEffect] error => ",e.t0),Z(T.Z.REJECTED),X(e.t0);case 27:case"end":return e.stop()}}),e,null,[[9,22]])})))()}),[j,L,i,a]),(0,l.useEffect)((function(){U&&Z(T.Z.RESOLVED)}),[U]);var w,H=(0,l.useCallback)((function(e){return(0,s.Z)(c().mark((function t(){var a,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(T.Z.PENDING),a={backdrop_path:e},n={headers:{Authorization:"Bearer ".concat(i)}},t.next=6,J.ZP.put("/".concat(B.Ol,"/list/").concat(L),a,n);case 6:x(T.Z.RESOLVED),v((function(t){return k(k({},t),{},{backdrop_path:e})})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("[ChooseImage chooseImageHandler] error => ",t.t0),x(T.Z.REJECTED);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))}),[i,L]);return h===T.Z.IDLE||h===T.Z.PENDING?(0,n.jsx)(E.Z,{}):h===T.Z.REJECTED?(0,n.jsx)(b.Z,{title:"Sorry!",subtitle:null!==(w=null===f||void 0===f?void 0:f.message)&&void 0!==w?w:"We can't find the page you're looking for..."}):h===T.Z.RESOLVED?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.default,{children:(0,n.jsx)("title",{children:U.name})}),(0,n.jsx)(u.Z,{children:(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(d.Z,{title:U.name||"No name",subtitle:U.description||"No description"}),(0,n.jsx)(G.Z,{listId:L}),0===U.total_results?(0,n.jsx)(b.Z,{title:"Sorry!",subtitle:"There are no items added to this list...."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.Z,{theme:t,children:U.results.map((function(e){var a;a=p===T.Z.PENDING?S:N,U.backdrop_path===e.backdrop_path&&(a=D);var i=a===S||a===D,r=a===D;return(0,n.jsx)(R,{theme:t,movie:e,text:a,textAlwaysVisible:r,disabled:i,onClick:H(e.backdrop_path),baseUrl:B.hi},e.id)}))}),(0,n.jsx)(O.Z,{page:U.page,totalPages:U.total_pages})]})]})})]}):void 0})))},1310:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list/choose-image",function(){return a(6084)}])}},function(e){e.O(0,[261,519,754,158,703,149,774,888,179],(function(){return t=1310,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=choose-image-5182734e95646a1abc95.js.map