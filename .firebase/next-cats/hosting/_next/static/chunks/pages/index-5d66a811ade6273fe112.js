(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9197:function(e,t,n){"use strict";var r=n(7134);t.Z=function(e){return function(t){t(e?{type:r.MJ,payload:e}:{type:r.eI})}}},4046:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var r=n(5893),a=n(809),u=n.n(a),o=n(2447),c=n(6265),i=n(7294),s=n(9008),f=n(1163),l=n(4751),p=n(6261),m=n(8354),d=n(974),Z=n(3861),g=n(3630),y=n(6882),v=n(9197),E=n(7134),h=n(3417),x=n(7187),w=n(9168),_=function(e,t){return function(){var t=(0,o.Z)(u().mark((function t(n,r){var a,o,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r().general,o=a.selectedMenuItemName,c=a.staticCategories,o){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,n({type:E.IC}),c.filter((function(t){return t.name===e})).map((function(e){return e.id})).join(""),t.next=8,h.eH.get("/".concat(w.kq,"/movie"));case 8:return i=t.sent,t.next=11,n({type:E.mp,payload:(0,h.vT)(i,!0)});case 11:n({type:E.cs}),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(3),console.log("[getStaticCategoryMovies] error => ",t.t0),n({type:E.bk,payload:t.t0.response}),f.default.push(x.Z.ERROR.HREF);case 19:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,n){return t.apply(this,arguments)}}()},b=n(2465),k=n(4456),C=n(4433),N=n(3651),q=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.general})),n=(0,l.v9)((function(e){return e.movies})),a=(0,f.useRouter)().query,E=a[C.Z.CATEGORY],h=Number(a[C.Z.PAGE]);(0,i.useEffect)((function(){return function(){e((0,v.Z)()),e((0,b.Z)())}}),[e]),(0,i.useEffect)((function(){if(f.default.router.asPath===x.Z.HOME.HREF||!(0,N.Z)(a)){var e=f.default.query[C.Z.CATEGORY],t=f.default.query[C.Z.PAGE];if(e||t)if(!e&&t){var n,r=k.Z[0].name,u=t;console.log("[Home useEffect - no initial category name] query parameter update: newCategoryName, newPage => ",r,u),f.default.replace({query:(n={},(0,c.Z)(n,C.Z.CATEGORY,r),(0,c.Z)(n,C.Z.PAGE,u),n)})}else if(e&&!t){var o,i=e;console.log("[Home useEffect - no initial page] query parameter update: newCategoryName, newPage => ",i,1),f.default.replace({query:(o={},(0,c.Z)(o,C.Z.CATEGORY,i),(0,c.Z)(o,C.Z.PAGE,1),o)})}else console.log("[Home useEffect - initial category name and initial page] no query parameter update");else{var s,l=k.Z[0].name;console.log("[Home useEffect - no initial category name & no initial page] query parameter update: newCategoryName, newPage => ",l,1),f.default.replace({query:(s={},(0,c.Z)(s,C.Z.CATEGORY,l),(0,c.Z)(s,C.Z.PAGE,1),s)})}}}),[e,a]),(0,i.useEffect)((function(){(0,o.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E&&h){t.next=2;break}return t.abrupt("return");case 2:return p.NY.scrollToTop({smooth:!0}),t.next=5,e((0,v.Z)(E));case 5:e(_(E,h));case 6:case"end":return t.stop()}}),t)})))()}),[E,h,e]);var q=t.base.images.secure_base_url;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("link",{rel:"preload",as:"fetch",href:"".concat(w.gP,"/").concat(w.kq,"/movie"),crossOrigin:"true"}),(0,r.jsx)("title",{children:"".concat(t.selectedMenuItemName," Movies")})]}),n.loading?(0,r.jsx)(y.Z,{}):(0,r.jsx)(d.Z,{children:(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(m.Z,{title:t.selectedMenuItemName,subtitle:"movies"}),(0,r.jsx)(g.Z,{movies:n,baseUrl:q})]})})]})}},8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4046)}])}},function(e){e.O(0,[261,519,754,158,630,487,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-5d66a811ade6273fe112.js.map